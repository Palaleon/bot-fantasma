python harvester.py
2025-07-01 21:21:59 - [INFO] - (Harvester) - Gestor de Estado de Activos inicializado.
2025-07-01 21:21:59 - [INFO] - (Harvester) - [ActiveManager] Iniciando servicios en segundo plano.
2025-07-01 21:21:59 - [INFO] - (Harvester) - [ActiveManager] Conectando a wss://ws2.qxbroker.com/socket.io/?EIO=
4&transport=websocket...
2025-07-01 21:21:59 - [INFO] - (Harvester) - Bucle de envío iniciado. Esperando mensajes...
2025-07-01 21:21:59 - [INFO] - (Harvester) - Servidor TCP listo y escuchando en 127.0.0.1:8765
>>> Presiona ENTER para iniciar la recolección de datos del Harvester... 2025-07-01 21:22:04 - [INFO] - (Harvest
er) - Bot de Node.js conectado desde ('127.0.0.1', 1059)

2025-07-01 21:22:06 - [INFO] - (Harvester) - Iniciando Cosechador Inteligente con Playwright...
2025-07-01 21:22:09 - [INFO] - (Harvester) - Conectado al navegador existente correctamente.
2025-07-01 21:22:09 - [INFO] - (Harvester) - Navegando a la página del broker (qxbroker.com/es/trade)...
2025-07-01 21:22:12 - [INFO] - (Harvester) - Enganchado al WebSocket de datos: wss://ws2.qxbroker.com/socket.io/
?EIO=3&transport=websocket
2025-07-01 21:22:12 - [INFO] - (Harvester) - Cosechador listo y escuchando activamente.
2025-07-01 21:22:14 - [INFO] - (Harvester) - Paquete histórico recibido para EURNZD_otc con timeframe 60s.
2025-07-01 21:22:14 - [INFO] - (Harvester) - Encolado paquete histórico de 198 velas para EURNZD_otc (60s).
2025-07-01 21:22:14 - [INFO] - (Harvester) - Nuevo activo detectado: EURNZD_otc. Estado de precarga inicializado
.
2025-07-01 21:22:14 - [INFO] - (Harvester) - Enviando EURNZD_otc al ActiveAssetManager para calentamiento inmedi
ato.
2025-07-01 21:22:14 - [INFO] - (Harvester) - Precarga para EURNZD_otc en timeframe 60s [OK]
2025-07-01 21:22:14 - [INFO] - (Harvester) - Encolando 1584 pips de reanudación para EURNZD_otc (1m)...
2025-07-01 21:22:14 - [INFO] - (Harvester) - [ActiveManager] Nuevo activo detectado para gestionar: EURNZD_otc
2025-07-01 21:22:14 - [INFO] - (Harvester) - [ActiveManager] Iniciando calentamiento para EURNZD_otc...
2025-07-01 21:22:14 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"instruments/update",{"asset":"EURNZD_otc","period":1800}]
2025-07-01 21:22:15 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"chart_notification/get",{"asset":"EURNZD_otc","version":"1.0.0"}]
2025-07-01 21:22:15 - [INFO] - (Harvester) - Paquete histórico recibido para EURNZD_otc con timeframe 60s.
2025-07-01 21:22:15 - [INFO] - (Harvester) - Encolado paquete histórico de 198 velas para EURNZD_otc (60s).
2025-07-01 21:22:15 - [INFO] - (Harvester) - Encolando 1586 pips de reanudación para EURNZD_otc (1m)...
2025-07-01 21:22:16 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"settings/store",{"chartId":"graph","settings":{"chartId":"graph","chartType":2,"currentExpirationTime":17513385
00,"isFastOption":false,"isFastAmountOption":false,"isIndicatorsMinimized":false,"isIndicatorsShowing":true,"isS
hortBetElement":false,"chartPeriod":9,"currentAsset":{"symbol":"EURNZD_otc"},"dealValue":1,"dealPercentValue":5,
"isVisible":true,"timePeriod":60,"gridOpacity":0,"isAutoScrolling":true,"isOneClickTrade":true,"upColor":"#0FAF5
9","downColor":"#FF6251"}}]
2025-07-01 21:22:16 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"instruments/update",{"asset":"EURNZD_otc","period":900}]
2025-07-01 21:22:17 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"chart_notification/get",{"asset":"EURNZD_otc","version":"1.0.0"}]
2025-07-01 21:22:18 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"settings/store",{"chartId":"graph","settings":{"chartId":"graph","chartType":2,"currentExpirationTime":17513385
00,"isFastOption":false,"isFastAmountOption":false,"isIndicatorsMinimized":false,"isIndicatorsShowing":true,"isS
hortBetElement":false,"chartPeriod":8,"currentAsset":{"symbol":"EURNZD_otc"},"dealValue":1,"dealPercentValue":5,
"isVisible":true,"timePeriod":60,"gridOpacity":0,"isAutoScrolling":true,"isOneClickTrade":true,"upColor":"#0FAF5
9","downColor":"#FF6251"}}]
2025-07-01 21:22:18 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"instruments/update",{"asset":"EURNZD_otc","period":600}]
2025-07-01 21:22:19 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"chart_notification/get",{"asset":"EURNZD_otc","version":"1.0.0"}]
2025-07-01 21:22:20 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"settings/store",{"chartId":"graph","settings":{"chartId":"graph","chartType":2,"currentExpirationTime":17513385
00,"isFastOption":false,"isFastAmountOption":false,"isIndicatorsMinimized":false,"isIndicatorsShowing":true,"isS
hortBetElement":false,"chartPeriod":7,"currentAsset":{"symbol":"EURNZD_otc"},"dealValue":1,"dealPercentValue":5,
"isVisible":true,"timePeriod":60,"gridOpacity":0,"isAutoScrolling":true,"isOneClickTrade":true,"upColor":"#0FAF5
9","downColor":"#FF6251"}}]
2025-07-01 21:22:21 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"instruments/update",{"asset":"EURNZD_otc","period":300}]
2025-07-01 21:22:21 - [INFO] - (Harvester) - Paquete histórico recibido para EURNZD_otc con timeframe 60s.
2025-07-01 21:22:21 - [INFO] - (Harvester) - Encolado paquete histórico de 198 velas para EURNZD_otc (60s).
2025-07-01 21:22:21 - [INFO] - (Harvester) - Encolando 1153 pips de reanudación para EURNZD_otc (1m)...
2025-07-01 21:22:21 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"chart_notification/get",{"asset":"EURNZD_otc","version":"1.0.0"}]
2025-07-01 21:22:22 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"settings/store",{"chartId":"graph","settings":{"chartId":"graph","chartType":2,"currentExpirationTime":17513385
00,"isFastOption":false,"isFastAmountOption":false,"isIndicatorsMinimized":false,"isIndicatorsShowing":true,"isS
hortBetElement":false,"chartPeriod":6,"currentAsset":{"symbol":"EURNZD_otc"},"dealValue":1,"dealPercentValue":5,
"isVisible":true,"timePeriod":60,"gridOpacity":0,"isAutoScrolling":true,"isOneClickTrade":true,"upColor":"#0FAF5
9","downColor":"#FF6251"}}]
2025-07-01 21:22:23 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"instruments/update",{"asset":"EURNZD_otc","period":60}]
2025-07-01 21:22:24 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"chart_notification/get",{"asset":"EURNZD_otc","version":"1.0.0"}]
2025-07-01 21:22:25 - [WARNING] - (Harvester) - [ActiveManager] No se puede enviar mensaje, no hay conexión: 42[
"settings/store",{"chartId":"graph","settings":{"chartId":"graph","chartType":2,"currentExpirationTime":17513385
00,"isFastOption":false,"isFastAmountOption":false,"isIndicatorsMinimized":false,"isIndicatorsShowing":true,"isS
hortBetElement":false,"chartPeriod":4,"currentAsset":{"symbol":"EURNZD_otc"},"dealValue":1,"dealPercentValue":5,
"isVisible":true,"timePeriod":60,"gridOpacity":0,"isAutoScrolling":true,"isOneClickTrade":true,"upColor":"#0FAF5
9","downColor":"#FF6251"}}]
2025-07-01 21:22:26 - [INFO] - (Harvester) - [ActiveManager] Calentamiento para EURNZD_otc completado.
2025-07-01 21:22:26 - [INFO] - (Harvester) - [ActiveManager] EURNZD_otc añadido a la lista de refresco. Total: 1
.



NECESITO QUE NO TE METAS POR NADA DEL MUNDO LA AUDITORIA EN PLAYRIGHTM QUE FUNCIONA EXCELENTE.

PERO DEBEMOS ARREGLAR LA SEGUNDA FUNCION YA QUE NO ESTÄ EMITIENDO NINGUN MENSAJE YA QUE EL BOT DEBE AL INSTANTE DE INICIAR ENCENDER EL 'CAPTURAR' Y DEJARLO ACTIVO PARA QUE CUANDO LA PAGINA CARGUE LA SEGUNDA FUNCiÖN PUEDA SABER EL WEBSOCKET ACTIVO y pueda crear la variable de emitir. 

ADEMÄS. ACTUALMENTE EL HARVASTER.PY INICIA PERFECTAMENTE POR QUE ENCUENTRA EL PRIMER ACTIVO AL INSTANTE LO CUAL ES LO QUE QUEREMOS.

ENTONCES LA EMISION DEBE ACTIVARSE AL DETECTAR:
[INFO] - (Harvester) - Nuevo activo detectado: USDDZD_otc. Estado de precarga inicializado.

Y ESO PARA CADA ACTIVO NUEVO EN LO QUE CORRESPONDE A CALENTAR.
